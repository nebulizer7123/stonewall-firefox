<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Stonewall Options</title>
  <link rel="stylesheet" href="../../styles/stonewall-theme.css">
</head>
<body class="options-page">
  <main class="options-shell">
    <header class="page-header">
      <h1>Stonewall Preferences</h1>
      <p>Set your blocking mode, URL lists, and focus sessions in one place.</p>
    </header>

    <section class="settings-card">
      <h2>Mode</h2>
      <p class="form-note">Choose how Stonewall should behave.</p>
      <div class="mode-section">
        <label for="mode">Blocking mode</label>
        <select id="mode">
          <option value="block">Block listed URLs</option>
          <option value="allow">Allow only listed URLs</option>
        </select>
      </div>
    </section>

    <section class="settings-card">
      <h2 id="patternsHeading">Block List</h2>
      <p class="form-note">Add URL patterns to the current mode list.</p>
      <form id="addPatternForm" class="inline-add">
        <input id="newPattern" type="text" placeholder="https://example.com/path" required>
        <button type="submit">Add Pattern</button>
      </form>
      <div class="table-wrap">
        <table id="patternsTable">
          <thead><tr><th>URL Pattern</th><th>Action</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section id="exceptionsSection" class="settings-card" style="display:none;">
      <h2>Block Exceptions</h2>
      <p class="form-note">Allow specific paths inside blocked sites. Use <code>*</code> as a wildcard.</p>
      <form id="addExceptionForm" class="inline-add">
        <input id="newException" type="text" placeholder="reddit.com/r/*/comments/" required>
        <button type="submit">Add Exception</button>
      </form>
      <div class="table-wrap">
        <table id="exceptionsTable">
          <thead><tr><th>URL Pattern</th><th>Action</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section class="settings-card">
      <div class="card-title-row">
        <h2>Focus Sessions</h2>
        <button id="addSession" class="add-session" type="button">Add Session</button>
      </div>
      <p class="form-note">Create scheduled focus blocks with daily break limits.</p>
      <div class="table-wrap">
        <table id="sessionsTable">
          <thead>
            <tr>
              <th>Days</th><th>Start</th><th>End</th><th>Breaks Allowed</th><th>Break (min)</th><th>Action</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </main>

  <script src="options.js"></script>
</body>
</html>
